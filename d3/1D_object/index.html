<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>D3 Test</title>
<script type="text/javascript" src="d3/d3.v3.js"></script>
<style>
svg .box {
fill: #fca;
border: 2px black;
}
</style>
</head>
<body>
<script type="text/javascript">
var w = 1000,
    h = 400;
var svg = d3.select("body")
	    .append("svg")
	    .attr("width",w)
	    .attr("height",h)
	    .style("background-color","#aaa");

var dataset = [];
for(var i = 0; i<10 ; i++)
{
    dataset.push(300-(i*30));
}

var x1 = 100, y1 = h/2;
var x2 = w/10, y2 = h/5;
var rectangle = svg.selectAll("rect")
		    .data(dataset)
		    .enter()
		    .append("rect");

rectangle.attr("x", function(d,i){
			return 100 ;	})
	 .attr("y", function(d,i){
			return d; })
	 .attr("width",x2)
	 .attr("height",y2)
	 .attr("class", function(d,i){
			    return "box";
			}) ;
 

setTimeInterval(function(){
	update();
	}, 1000);


function update(){
   if(y1 != 0){
	y1 = y1-5;
    }


}


</script>
</body>
</html>     
